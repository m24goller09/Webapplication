<div *ngIf="project!=null" class="project-view">
	<div class="card mx-3 my-2">
		<div class="card-header">
			{{project.name}}
			<button type="button" class="close" aria-label="Close" [routerLink]="['/home','def']" >
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="card-body">
			<div class="card-title">ID: <span class="text-info">#{{project.id}}</span></div>
			<div class="card-text">
				<div id="creator">Creator: {{project.creator}}</div>
				<div id="description">Description: {{project.description}}</div>
				<!-- TODO add new way of displaying all three states of the project -->
			</div>
		</div>
	</div>

	<div class="subTask d-flex flex-md-row justify-content-center">
		<div class="tasks backlog w-25 card">
			<div class="card-header">
				Backlog
				<span class="add-button-container">
					<app-add-button [state]="'backlog'" [id]="project.id" (createdSubTask)="newSubTaskCreated($event)"></app-add-button>
				</span>
			</div>
			<div class="projectContainer">
				<app-subTask *ngFor="let subTask of backlogTasks" (selectEvent)="receiveSubTaskSelected($event)" [subTask]=subTask></app-subTask>
			</div>
		</div>

		<div class="tasks running w-25 card">
			<div class="card-header">
				Running
				<span class="add-button-container">
					<app-add-button [state]="'running'" [id]="project.id" (createdSubTask)="newSubTaskCreated($event)"></app-add-button>
				</span>
			</div>
			<div class="projectContainer">
				<app-subTask *ngFor="let subTask of runningTasks" (selectEvent)="receiveSubTaskSelected($event)" [subTask]=subTask></app-subTask>
			</div>
		</div>

		<div class="tasks finished w-25 card">
			<div class="card-header">
				Finished
				<span class="add-button-container">
					<app-add-button [state]="'finished'" [id]="project.id" (createdSubTask)="newSubTaskCreated($event)"></app-add-button>
				</span>
			</div>
			<div class="projectContainer">
				<app-subTask *ngFor="let subTask of finishedTasks" (selectEvent)="receiveSubTaskSelected($event)" [subTask]=subTask></app-subTask>
			</div>
		</div>

		<div class="tasks info w-25 card">
			<div class="card-header state-{{subTaskToShow.state}}">Task info</div>
			<div class="card-body">
				<div class="font-weight-bold border-bottom">
					<span *ngIf="subTaskToShow.id>=0" class="text-info">#{{ subTaskToShow.id }}</span>
					{{ subTaskToShow.name }}
				</div>
				<div *ngIf="subTaskToShow.creator!==''" class="text-muted">Creator: {{ subTaskToShow.creator }}</div>
				<p class="card-text mx-1 my-3">
					{{ subTaskToShow.description }}
				</p>
			</div>
		</div>
	</div>
</div>
